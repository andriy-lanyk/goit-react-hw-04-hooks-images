{"version":3,"sources":["Components/FetchPhotos/FetchPhotos.js","Components/Searchbar/Searchbar.styles.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.styles.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.styles.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.styles.js","Components/Button/Button.js","Components/Loader/Loader.styles.js","Components/Loader/Loader.js","Components/Modal/Modal.styles.js","Components/Modal/Modal.js","Components/App/App.styles.js","Components/App/App.js","index.js"],"names":["fetchPhotos","query","numberOfPage","fetch","then","res","json","propTypes","PropTypes","string","isRequired","number","Header","styled","header","Form","form","FormBtn","button","FormLabel","span","FormInput","input","Searchbar","change","useState","value","setValue","onSubmit","e","preventDefault","trim","type","className","autocomplete","autoFocus","placeholder","onChange","target","toLowerCase","GalleryItem","li","Image","img","ImageGalleryItem","id","url","name","openModal","src","alt","onClick","List","ul","ImageGallery","photos","click","map","webformatURL","tags","Btn","Button","LoaderDiv","div","LoaderContainer","color","height","width","timeout","Overlay","ModalDiv","IMG","modalRoot","document","querySelector","Modal","largeImg","closeModal","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","currentTarget","Container","article","App","setQuery","setPhotos","page","setPage","isLoader","setIsLoader","modalWindow","setModalWindow","largeUrl","setLargeUrl","setAlt","response","hits","elementId","dataset","modalImg","filter","photo","forEach","elem","largeImageURL","Loader","length","nextPage","prev","finally","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"+NAIA,SAASA,EAAYC,EAAOC,GAC1B,OAAOC,MAAM,8BAAD,OACoBF,EADpB,iBACkCC,EADlC,gBAHF,qCAGE,yDAEVE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAGtBN,EAAYO,UAAY,CACtBN,MAAOO,IAAUC,OAAOC,WACxBR,aAAcM,IAAUG,OAAOD,YAGlBV,I,UAAAA,I,cCbTY,EAASC,IAAOC,OAAV,qcAmBNC,EAAOF,IAAOG,KAAV,kLAUJC,EAAUJ,IAAOK,OAAV,qaAkBPC,EAAYN,IAAOO,KAAV,iNAYTC,EAAYR,IAAOS,MAAV,+P,OCZAC,I,IAAAA,EAvCf,YAAgC,IAAXC,EAAU,EAAVA,OACnB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAaA,OACE,cAACf,EAAD,UACE,eAACG,EAAD,CAAMa,SAbV,SAAoBC,GAClBA,EAAEC,iBAEmB,KAAjBJ,EAAMK,SAIVP,EAAOE,GACPC,EAAS,MAKP,UACE,cAACV,EAAD,CAASe,KAAK,SAAd,SACE,cAACb,EAAD,uBAGF,cAACE,EAAD,CACEY,UAAU,mBACVD,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZV,MAAOA,EACPW,SAAU,SAACR,GAAD,OAAOF,EAASE,EAAES,OAAOZ,MAAMa,wBCpC7CC,EAAc3B,IAAO4B,GAAV,sLAMXC,EAAQ7B,IAAO8B,IAAV,yOCWIC,I,EAAAA,EAff,YAAyD,IAA7BC,EAA4B,EAA5BA,GAAIC,EAAwB,EAAxBA,IAAKC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,UACzC,OACE,cAACR,EAAD,UACE,cAACE,EAAD,CAAOO,IAAKH,EAAKI,IAAKH,EAAM,UAASF,EAAIM,QAASH,KADlCH,ICJhBO,EAAOvC,IAAOwC,GAAV,4RCwBKC,I,EAAAA,EArBf,YAA0C,IAAlBC,EAAiB,EAAjBA,OAAQC,EAAS,EAATA,MAC9B,OACE,cAACJ,EAAD,UACGG,GACCA,EAAOE,KAAI,gBAAGZ,EAAH,EAAGA,GAAIa,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,KAArB,OACT,cAAC,EAAD,CACEd,GAAIA,EACJC,IAAKY,EACLX,KAAMY,EACNX,UAAWQ,UCZjBI,EAAM/C,IAAOK,OAAV,soBCcM2C,I,EAAAA,EAZf,YAA4B,IAAVL,EAAS,EAATA,MAChB,OACE,cAACI,EAAD,CAAK5B,KAAK,SAASmB,QAASK,EAA5B,2B,iBCJSM,G,MAAYjD,IAAOkD,IAAV,gDCiBPC,I,MAAAA,EAdf,WACE,OACE,cAACF,EAAD,UACE,cAAC,IAAD,CACE9B,KAAK,OACLiC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,SCXXC,EAAUxD,IAAOkD,IAAV,2OAaPO,EAAWzD,IAAOkD,IAAV,iGAKRQ,EAAM1D,IAAO8B,IAAV,oFCfH6B,EAAYC,SAASC,cAAc,eAuC1BC,I,EAAAA,EArCf,YAA+C,IAA9BC,EAA6B,EAA7BA,SAAU1B,EAAmB,EAAnBA,IAAK2B,EAAc,EAAdA,WAS9B,SAASC,EAAcjD,GACN,WAAXA,EAAEkD,MACJF,IAUJ,OApBAG,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,UAAWJ,GAE5B,WACLG,OAAOE,oBAAoB,UAAWL,OAgBnCM,uBACL,cAACf,EAAD,CAASlB,QAPX,SAA+BtB,GACzBA,EAAES,SAAWT,EAAEwD,eACjBR,KAKF,SACE,cAACP,EAAD,UACE,cAACC,EAAD,CAAKtB,IAAK2B,EAAU1B,IAAKA,QAG7BsB,IChCEc,EAAYzE,IAAO0E,QAAV,8YCiFAC,MA1Ef,WACE,MAA0B/D,mBAAS,IAAnC,mBAAOxB,EAAP,KAAcwF,EAAd,KACA,EAA4BhE,mBAAS,IAArC,mBAAO8B,EAAP,KAAemC,EAAf,KACA,EAAwBjE,mBAAS,GAAjC,mBAAOkE,EAAP,KAAaC,EAAb,KACA,EAAgCnE,oBAAS,GAAzC,mBAAOoE,EAAP,KAAiBC,EAAjB,KACA,EAAsCrE,oBAAS,GAA/C,mBAAOsE,EAAP,KAAoBC,EAApB,KACA,EAAgCvE,mBAAS,IAAzC,mBAAOwE,EAAP,KAAiBC,EAAjB,KACA,EAAsBzE,mBAAS,IAA/B,mBAAOyB,EAAP,KAAYiD,EAAZ,KAsDA,OApDAnB,qBAAU,WACR,GAAc,KAAV/E,EAAJ,CAEA2F,EAAQ,GACRE,GAAY,GACZ9F,EAAYC,EAHM,GAGYG,MAAK,SAACgG,GAClCV,EAAUU,EAASC,MACnBP,GAAY,SAEb,CAAC7F,IA4CF,eAACqF,EAAD,WACE,cAAC,EAAD,CAAW9D,OA3Cf,SAAkBE,GAChB+D,EAAS/D,MA2CP,cAAC,EAAD,CAAc6B,OAAQA,EAAQC,MAnBlC,SAAmB3B,GACjB,IAAMyE,GAAazE,EAAES,OAAOiE,QAAQ1D,GAC9B2D,EAAWjD,EAAOkD,QAAO,SAACC,GAC9B,OAAOA,EAAM7D,KAAOyD,KAEd,OAARE,QAAQ,IAARA,KAAUG,SAAQ,SAACC,GACjBV,EAAYU,EAAKC,eACjBV,EAAOS,EAAKjD,SAEdqC,GAAe,MAWZH,GAAY,cAACiB,EAAD,IACZvD,EAAOwD,OAAS,GAAK,cAAC,EAAD,CAAQvD,MA1ClC,WACE,IAAIwD,EAAWrB,EAAO,EACtBG,GAAY,GACZF,EAAQoB,GACRhH,EAAYC,EAAO+G,GAChB5G,MAAK,SAACgG,GACLV,GAAU,SAACuB,GAAD,4BAAcA,GAAd,YAAuBb,EAASC,UAC1CP,GAAY,MAEboB,SAAQ,WAMXjC,OAAOkC,SAAS,CACdC,IAAK3C,SAAS4C,gBAAgBC,aAC9BC,SAAU,iBA0BTxB,GACC,cAAC,EAAD,CAAOnB,SAAUqB,EAAU/C,IAAKA,EAAK2B,WAX3C,WACEmB,GAAgBD,UC/DpByB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjD,SAASkD,eAAe,W","file":"static/js/main.a6fe433a.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\n\nconst KEY = \"22616220-eca5f4b2df7adfb59c540c753\";\n\nfunction fetchPhotos(query, numberOfPage) {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${numberOfPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((res) => res.json());\n}\n\nfetchPhotos.propTypes = {\n  query: PropTypes.string.isRequired,\n  numberOfPage: PropTypes.number.isRequired,\n};\n\nexport default fetchPhotos;\n","import styled from \"@emotion/styled\";\n\nconst Header = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nconst Form = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nconst FormBtn = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst FormLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst FormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport { Header, Form, FormBtn, FormLabel, FormInput };\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Header,\n  Form,\n  FormBtn,\n  FormLabel,\n  FormInput,\n} from \"./Searchbar.styles\";\n\nfunction Searchbar({ change }) {\n  const [value, setValue] = useState(\"\");\n\n  function submitForm(e) {\n    e.preventDefault();\n\n    if (value.trim() === \"\") {\n      return;\n    }\n\n    change(value);\n    setValue(\"\");\n  }\n\n  return (\n    <Header>\n      <Form onSubmit={submitForm}>\n        <FormBtn type=\"submit\">\n          <FormLabel>Search</FormLabel>\n        </FormBtn>\n\n        <FormInput\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={value}\n          onChange={(e) => setValue(e.target.value.toLowerCase())}\n        />\n      </Form>\n    </Header>\n  );\n}\n\nSearchbar.propTypes = {\n  change: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import styled from \"@emotion/styled\";\n\nconst GalleryItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nconst Image = styled.img`\n  display: block;\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n\nexport { Image, GalleryItem };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Image, GalleryItem } from \"./ImageGalleryItem.styles\";\n\nfunction ImageGalleryItem({ id, url, name, openModal }) {\n  return (\n    <GalleryItem key={id}>\n      <Image src={url} alt={name} data-id={id} onClick={openModal} />\n    </GalleryItem>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import styled from \"@emotion/styled\";\n\nconst List = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport { List };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport { List } from \"./ImageGallery.styles\";\n\nfunction ImageGallery({ photos, click }) {\n  return (\n    <List>\n      {photos &&\n        photos.map(({ id, webformatURL, tags }) => (\n          <ImageGalleryItem\n            id={id}\n            url={webformatURL}\n            name={tags}\n            openModal={click}\n          />\n        ))}\n    </List>\n  );\n}\n\nImageGallery.propTypes = {\n  photos: PropTypes.array.isRequired,\n  click: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import styled from \"@emotion/styled\";\n\nconst Btn = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover {\n    background-color: #303f9f;\n  }\n  &:focus {\n    background-color: #303f9f;\n  }\n`;\n\nexport { Btn };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Btn } from \"./Button.styles\";\n\nfunction Button({ click }) {\n  return (\n    <Btn type=\"button\" onClick={click}>\n      Load more...\n    </Btn>\n  );\n}\n\nButton.propTypes = {\n  click: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import styled from \"@emotion/styled\";\n\nexport const LoaderDiv = styled.div`\n  margin: 0 auto;\n`;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { LoaderDiv } from \"./Loader.styles\";\n\nfunction LoaderContainer() {\n  return (\n    <LoaderDiv>\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={200}\n        width={200}\n        timeout={3000}\n      />\n    </LoaderDiv>\n  );\n}\n\nexport default LoaderContainer;\n","import styled from \"@emotion/styled\";\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nconst ModalDiv = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n\nconst IMG = styled.img`\n  display: block;\n  max-width: 100%;\n  height: auto;\n`;\n\nexport { Overlay, ModalDiv, IMG };\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createPortal } from \"react-dom\";\nimport { Overlay, ModalDiv, IMG } from \"./Modal.styles\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ largeImg, alt, closeModal }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  function handleKeyDown(e) {\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  }\n\n  function handleClickOnBackdrop(e) {\n    if (e.target === e.currentTarget) {\n      closeModal();\n    }\n  }\n\n  return createPortal(\n    <Overlay onClick={handleClickOnBackdrop}>\n      <ModalDiv>\n        <IMG src={largeImg} alt={alt} />\n      </ModalDiv>\n    </Overlay>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  largeImg: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import styled from \"@emotion/styled\";\n\nconst Container = styled.article`\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n  color: #212121;\n  background-color: #fff;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\n\nexport { Container };\n","import React, { useState, useEffect } from \"react\";\nimport fetchPhotos from \"../FetchPhotos\";\nimport Searchbar from \"../Searchbar\";\nimport ImageGallery from \"../ImageGallery\";\nimport Button from \"../Button\";\nimport LoaderContainer from \"../Loader\";\nimport Modal from \"../Modal\";\nimport { Container } from \"./App.styles\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [photos, setPhotos] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoader, setIsLoader] = useState(false);\n  const [modalWindow, setModalWindow] = useState(false);\n  const [largeUrl, setLargeUrl] = useState(\"\");\n  const [alt, setAlt] = useState(\"\");\n\n  useEffect(() => {\n    if (query === \"\") return;\n    const firstPage = 1;\n    setPage(1);\n    setIsLoader(true);\n    fetchPhotos(query, firstPage).then((response) => {\n      setPhotos(response.hits);\n      setIsLoader(false);\n    });\n  }, [query]);\n\n  function getQuery(value) {\n    setQuery(value);\n  }\n\n  function addPhotosOnButtonClick() {\n    let nextPage = page + 1;\n    setIsLoader(true);\n    setPage(nextPage);\n    fetchPhotos(query, nextPage)\n      .then((response) => {\n        setPhotos((prev) => [...prev, ...response.hits]);\n        setIsLoader(false);\n      })\n      .finally(() => {\n        scrollToTop();\n      });\n  }\n\n  function scrollToTop() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  function openModal(e) {\n    const elementId = +e.target.dataset.id;\n    const modalImg = photos.filter((photo) => {\n      return photo.id === elementId;\n    });\n    modalImg?.forEach((elem) => {\n      setLargeUrl(elem.largeImageURL);\n      setAlt(elem.tags);\n    });\n    setModalWindow(true);\n  }\n\n  function toggleModal() {\n    setModalWindow(!modalWindow);\n  }\n\n  return (\n    <Container>\n      <Searchbar change={getQuery} />\n      <ImageGallery photos={photos} click={openModal} />\n      {isLoader && <LoaderContainer />}\n      {photos.length > 0 && <Button click={addPhotosOnButtonClick} />}\n      {modalWindow && (\n        <Modal largeImg={largeUrl} alt={alt} closeModal={toggleModal} />\n      )}\n    </Container>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}